databaseChangeLog:
  - changeSet:
      id: 1
      author: jpc
      changes:
      - createTable:
          tableName: actors
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: name
              type: varchar(255)
      - createTable:
          tableName: binders
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: reference
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: first_action
              type: varchar(255)
          - column:
              name: withdrawal
              type: boolean
          - column:
              name: settled
              type: boolean
      - createTable:
          tableName: binder_domains
          columns:
          - column:
              name: binder_id
              type: int
              constraints:
                nullable: false
          - column:
              name: domain
              type: varchar(255)
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_binder_domain_domain
          baseTableName: binder_domains
          baseColumnNames: binder_id
          referencedTableName: binders
          referencedColumnNames: id
      - createTable:
          tableName: parties
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: binder_id
              type: int
              constraints:
                nullable: false
          - column:
              name: actor_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_party_binder
          baseTableName: parties
          baseColumnNames: binder_id
          referencedTableName: binders
          referencedColumnNames: id
      - addForeignKeyConstraint:
          constraintName: fk_party_actor
          baseTableName: parties
          baseColumnNames: actor_id
          referencedTableName: actors
          referencedColumnNames: id
      - createTable:
          tableName: courts
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: parent_id
              type: int
          - column:
              name: name
              type: varchar(255)
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_court_parent
          baseTableName: courts
          baseColumnNames: parent_id
          referencedTableName: courts
          referencedColumnNames: id
      - createTable:
          tableName: rights
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: discriminator
              type: varchar(2)
              constraints:
                nullable: false
          - column:
              name: opponent
              type: boolean
          - column:
              name: image_ids
              type: varchar(1024)
          - column:
              name: target_id
              type: int
      - createTable:
          tableName: trademarks
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: name
              type: varchar(255)
      - createTable:
          tableName: patents
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: application
              type: varchar(63)
      - createTable:
          tableName: pols
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: name
              type: varchar(255)
          - column:
              name: parent_id
              type: int
      - addForeignKeyConstraint:
          constraintName: fk_pol_parent
          baseTableName: pols
          baseColumnNames: parent_id
          referencedTableName: pols
          referencedColumnNames: id
      - createTable:
          tableName: dockets
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: reference
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: court_id
              type: int
              constraints:
                nullable: false
          - column:
              name: binder_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_docket_binder
          baseTableName: dockets
          baseColumnNames: binder_id
          referencedTableName: binders
          referencedColumnNames: id
      - addForeignKeyConstraint:
          constraintName: fk_docket_court
          baseTableName: dockets
          baseColumnNames: court_id
          referencedTableName: courts
          referencedColumnNames: id
      - createTable:
          tableName: decisions
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: reference
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: judgment_date
              type: varchar(32)
              constraints:
                nullable: false
          - column:
              name: record_nature
              type: varchar(255)
          - column:
              name: refusal
              type: boolean
          - column:
              name: citable
              type: boolean
          - column:
              name: winner
              type: varchar(255)
          - column:
              name: docket_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_decision_docket
          baseTableName: decisions
          baseColumnNames: docket_id
          referencedTableName: dockets
          referencedColumnNames: id
      - createTable:
          tableName: documents
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: reference
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: lang
              type: varchar(32)
              constraints:
                nullable: false
          - column:
              name: document_id
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: decision_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_document_decision
          baseTableName: documents
          baseColumnNames: decision_id
          referencedTableName: decisions
          referencedColumnNames: id
      - createTable:
          tableName: honors
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: validity
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: decision_id
              type: int
              constraints:
                nullable: false
          - column:
              name: right_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_honor_decision
          baseTableName: honors
          baseColumnNames: decision_id
          referencedTableName: decisions
          referencedColumnNames: id
      - addForeignKeyConstraint:
          constraintName: fk_honor_right
          baseTableName: honors
          baseColumnNames: right_id
          referencedTableName: rights
          referencedColumnNames: id
      - createTable:
          tableName: analyses
          columns:
          - column:
              name: id
              type: int
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: decision_id
              type: int
              constraints:
                nullable: false
          - column:
              name: pol_id
              type: int
              constraints:
                nullable: false
      - addForeignKeyConstraint:
          constraintName: fk_analysis_decision
          baseTableName: analyses
          baseColumnNames: decision_id
          referencedTableName: decisions
          referencedColumnNames: id
      - addForeignKeyConstraint:
          constraintName: fk_analysis_pol
          baseTableName: analyses
          baseColumnNames: pol_id
          referencedTableName: pols
          referencedColumnNames: id
